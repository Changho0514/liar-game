<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Room Details</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
<main>
    <h2>플레이어</h2>
    <div>
        <span id="player-name"></span>
    </div>
    <p>아래 링크를 공유하세요!</p>
    <p>liar-game.com/room/jutsa-torev</p>
    <p style="color: red;">링크 복사</p>
    <div>
        <button onclick="location.href='index.html'">홈으로</button>
        <button id="start-game-btn">게임 시작</button>
    </div>
</main>

<!-- Modal -->
<div id="modal" class="modal">
    <div class="modal-content">
        <p>모든 플레이어가 입장했는지 확인해주세요.<br>1명의 플레이어로 게임을 시작하시겠습니까?</p>
        <div class="modal-buttons">
            <button class="modal-button" onclick="closeModal()">취소</button>
            <button class="modal-button" onclick="startGame()">확인</button>
        </div>
    </div>
</div>

<script>
    window.onload = function() {
        const urlParams = new URLSearchParams(window.location.search);
        const nickname = urlParams.get('nickname');
        document.getElementById('player-name').innerText = nickname;
        document.getElementById('modal').style.display = 'none'; // Ensure modal is hidden on load
    }

    document.getElementById('start-game-btn').addEventListener('click', function() {
        document.getElementById('modal').style.display = 'block';
    });

    function closeModal() {
        document.getElementById('modal').style.display = 'none';
    }

    function startGame() {
        const uuid = 'jutsa-torev'; // 여기서 실제 UUID 생성 필요
        location.href = `game.html?uuid=${uuid}`;
    }
</script>
</body>
</html>
